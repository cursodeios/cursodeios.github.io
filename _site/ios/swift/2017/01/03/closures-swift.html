<!DOCTYPE html>
<html>
<head>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-1673144615294747",
        enable_page_level_ads: true
      });
    </script>
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Curso completo de iOS en español. Aprende a desarrollar Apps para iOS con el lenguaje de progración Swift y las APIs de iOS más utlizadas." />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    
  <meta name="twitter:url" content="http://localhost:4000/ios/swift/2017/01/03/closures-swift.html">
  <meta property="og:url" content="http://localhost:4000/ios/swift/2017/01/03/closures-swift.html" >

  <meta property="og:image" content="http://localhost:4000/assets/images/site-img.png" />
  <meta name="twitter:image:src" content="http://localhost:4000/assets/images/site-img.png">

  <meta name="twitter:title" content="Closures en Swift">
  <meta content="Closures en Swift" property="og:title">
  <meta content="article" property="og:type">


  <meta name="twitter:description" content="">
  <meta content="<p>Los <em>Closures</em> en Swift son fragmentos con una funcionalidad especifica que puedes usar en tu código. Lo puedes pasar como argumento en una función o usarlo como propiedad de un objeto.</p>

" property="og:description">


  <meta content="2017-01-03T05:05:00-06:00" property="article:published_time">


  <meta content="http://localhost:4000/assets/images/site-img.png" property="og:image">


  
  <meta content="iOS" property="article:section">
  


  


</head>
<body class="home-template">
    <header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="/">Inicio</a>
        <a class="subscribe-button icon-feed" href="/feed.xml">Suscribirse</a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post">
        <header class="post-header">
      <h1 class="post-title">Closures en Swift</h1>
      <section class="post-meta">
          <time class="post-date" datetime="2017-01-03">03-01-2017</time>
          
              en iOS and Swift
          
      </section>
  </header>

        <section class="post-content">
            <p>Los <em>Closures</em> en Swift son fragmentos con una funcionalidad especifica que puedes usar en tu código. Lo puedes pasar como argumento en una función o usarlo como propiedad de un objeto.</p>

<h5 id="sintaxis">Sintaxis</h5>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="c1">// Sintaxis Básica</span>
    <span class="p">{(</span><span class="n">parametro</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">tipo</span> <span class="k">in</span>
       <span class="c1">// Aquí escribimos la funcionalidad</span>
    <span class="p">}</span>

    <span class="c1">// Ejemplo sencillo</span>
    <span class="p">{(</span><span class="n">a</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="k">in</span>
      <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="p">}</span></code></pre></figure>

<p>Ahora puedes crear un nuevo <strong>playground</strong> y seguir los ejemplos que vamos a realizar.</p>

<h5 id="closure-como-parmetro-en-una-funcin">Closure como parámetro en una función</h5>

<p>En el siguiente ejemplo vamos a utilizar un arreglo de enteros y elevar al cuadrado cada numero. Vamos a usar la funcion <code>map()</code> para crear otro arreglo de los numeros elevados al cuadrado.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">let</span> <span class="nv">numbers</span> <span class="p">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>

    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">map</span><span class="p">({</span>
        <span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="k">in</span>
        <span class="k">return</span> <span class="n">number</span> <span class="o">*</span> <span class="n">number</span>
    <span class="p">})</span>

    <span class="bp">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="c1">// [4, 25, 49, 64, 81]</span></code></pre></figure>

<h5 id="omitiendo-el-tipo-en-el-closure-type-inference">Omitiendo el TIPO en el closure (Type Inference)</h5>

<p>Sabemos que Swift es un lenguaje potente e inteligente, al tener un arreglo de Enteros al invocar la funcion map en el closure no es necesario especificar el tipo del <em>parámetro number</em>.</p>

<p>Entonces transformamos nuestro código:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">map</span><span class="p">({</span>
        <span class="n">number</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="k">in</span>
        <span class="k">return</span> <span class="n">number</span> <span class="o">*</span> <span class="n">number</span>
    <span class="p">})</span>

    <span class="c1">// Pero aun podemos hacerlo mas corto</span>
    <span class="c1">// Omitimos la palabra reservada RETURN</span>
    <span class="c1">// Y tendremos el mismo resultado</span>

    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">map</span><span class="p">({</span>
        <span class="n">number</span> <span class="k">in</span> <span class="n">number</span> <span class="o">*</span> <span class="n">number</span>
    <span class="p">})</span></code></pre></figure>

<h5 id="nombres-de-agurmentos-abreviados">Nombres de Agurmentos Abreviados</h5>

<p>Aun podemos resumir mas nuestro código abreviando el nombre de nuestros parámetros, incluso podemos omitir la palabra reservada <strong>in</strong> que separa los parametros del cuerpo del closure.</p>

<p>Swift nos permite nombrar nuestro primer parámetro en el closure como <strong>$0</strong>, el segundo como <strong>$1</strong> y así sucesivamente.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="c1">// Ahora lo escribimos de la siguiente forma</span>
    <span class="c1">// Debemos tener el mismo resultado</span>
    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">map</span><span class="p">({</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">})</span></code></pre></figure>

<h5 id="trailing-closures">Trailing Closures</h5>

<p>Swift nos da la facilidad que cuando un closure sea el último o único argumento de una función podemos llamarlo fuera de los paréntesis de los parametros.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">map</span><span class="p">(){</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span>

    <span class="c1">// Si es el unico parametro podemos quitar los paréntesis</span>
    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span></code></pre></figure>

<h5 id="otro-ejemplo">Otro ejemplo</h5>

<p>Vamos a ordenar un arreglo de Enteros de mayor a menor usando <em>closures</em>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">let</span> <span class="nv">numbers</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">53</span><span class="p">]</span>

    <span class="kd">let</span> <span class="nv">result</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">sorted</span><span class="p">(</span><span class="n">by</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span> <span class="k">in</span>
        <span class="k">return</span> <span class="n">n1</span> <span class="o">&gt;</span> <span class="n">n2</span>
    <span class="p">})</span>

    <span class="kd">let</span> <span class="nv">result2</span> <span class="p">=</span> <span class="n">numbers</span><span class="p">.</span><span class="bp">sorted</span><span class="p">(</span><span class="n">by</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">})</span>

    <span class="c1">// En ambos casos el resultado será:</span>
    <span class="c1">// [100, 53, 22, 9, 8, 7, 5, 2, 1]</span></code></pre></figure>

<h5 id="captura-de-valores">Captura de Valores</h5>

<p>Un <em>Closure</em> puede capturar variables o constantes dentro de un contexto circundante, el <em>closure</em> puede hacer referencia o modificar estas variables.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">func</span> <span class="nf">makeIncrementer</span><span class="p">(</span><span class="n">forIncrement</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nv">runningTotal</span> <span class="p">=</span> <span class="mi">0</span>
        <span class="kd">func</span> <span class="nf">incrementer</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
          <span class="n">runningTotal</span> <span class="o">+=</span> <span class="n">amount</span>
          <span class="k">return</span> <span class="n">runningTotal</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">incrementer</span>
    <span class="p">}</span></code></pre></figure>

<p>El valor de retorno de <strong>makeIncrementer</strong> es <code>() -&gt; Int</code>. Eso quiere decir que retorno una función en vez de un valor simple. La función que devuelve no recibe parametros pero retorna un <strong>Entero</strong> cada vez que es invocada.</p>

<p>Dentro de la función <strong>makeIncrementer</strong> se define una variable <strong>runningTotal</strong> que almacena el valor inicial, tenemos un función llamada <strong>incrementer</strong> que modifica la variable <strong>runningTotal</strong> y retorna el nuevo valor.</p>

<p>Ahora veamos un ejemplo de uso de la función <strong>makeIncrementer</strong>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">let</span> <span class="nv">incrementByTen</span> <span class="p">=</span> <span class="n">makeIncrementer</span><span class="p">(</span><span class="n">forIncrement</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>

    <span class="n">incrementByTen</span><span class="p">()</span> <span class="c1">// El resultado es 10</span>
    <span class="n">incrementByTen</span><span class="p">()</span> <span class="c1">// El resultado es 20</span>

    <span class="kd">let</span> <span class="nv">incrementBySeven</span> <span class="p">=</span> <span class="n">makeIncrementer</span><span class="p">(</span><span class="n">forIncrement</span><span class="p">:</span> <span class="mi">7</span><span class="p">)</span>

    <span class="n">incrementBySeven</span><span class="p">()</span> <span class="c1">// El resultado es 7</span>
    <span class="n">incrementBySeven</span><span class="p">()</span> <span class="c1">// El resultado es 14</span></code></pre></figure>

<p>Declaramos una constante <strong>incrementByTen</strong>, cada vez que la invocamos se incrementa el valor de la variable <strong>runningTotal</strong>. Si declaramos otra constante <strong>incrementBySeven</strong> veremos que esta tiene su propia referencia a la variable <strong>runningTotal</strong> y funcionan independientemente una de la otra.</p>

        </section>
        
 <section class="archive">
     <h5>Archivo</h5>
     <ul>
         
             <li>  <a href="/ios/swift/2017/01/03/closures-swift.html">Closures en Swift</a></li>
         
             <li>  <a href="/ios/swift/2017/01/02/metodos-de-instancia.html">Métodos de Instancia</a></li>
         
             <li>  <a href="/ios/swift/2017/01/02/clases-y-estructuras.html">Clases y Estructuras</a></li>
         
             <li>  <a href="/ios/swift/2017/01/01/funciones-en-swift.html">Funciones en Swift</a></li>
         
             <li>  <a href="/ios/swift/2017/01/01/estructuras-de-control-parte-2.html">Estructuras de control - Parte 2</a></li>
         
             <li>  <a href="/ios/swift/2017/01/01/estructuras-de-control-parte-1.html">Estructuras de control - Parte 1</a></li>
         
             <li>  <a href="/ios/swift/2017/01/01/primeros-pasos-en-swift.html">Primeros pasos en Swift</a></li>
         
             <li>  <a href="/ios/swift/2017/01/01/introduccion-a-ios.html">Introducción a Swift y el desarrollo de iOS</a></li>
         
     </ul>
 </section>
 

        <footer class="post-footer">
         
    <figure class="author-image">
        <a class="img" href="/" style="background-image: url(/assets/images/profile-1.jpg)">
        <span class="hidden">Danny Al's Picture</span></a>
    </figure>
    <section class="author">
        <h4> Danny Al </h4>
        <p> Desarrollando Apps para iOS desde 2015, localizado en Managua, Nicaragua. He participado en varios proyectos de e-commerce, e-banking y aplicaciones de negocios hechas a la medida. </p>
    </section>


         <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?text=Closures en Swift&amp;url=https://cursodeios.github.io/ios/swift/2017/01/03/closures-swift.html"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://cursodeios.github.io/ios/swift/2017/01/03/closures-swift.html"
        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=https://cursodeios.github.io/ios/swift/2017/01/03/closures-swift.html"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
         
        </footer>
    </article>
</main>

    <footer class="site-footer clearfix">
      <section class="copyright">
        <a href="/">Curso de iOS en Español</a> &bull; 2017        
      </section>
    </footer>
    <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91146008-2', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
